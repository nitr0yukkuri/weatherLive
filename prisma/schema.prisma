// prisma/schema.prisma

// --- 変更ここから ---
datasource db {
  provider = "postgresql"
  url      = env("PRISMA_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// アイテムのマスターデータ
model Item {
  id          Int             @id @default(autoincrement())
  name        String          @unique
  description String
  rarity      String          @default("normal")
  iconName    String?
  weather     String?
  stage       String?         // これは残しても影響ないかもしれません
  inventories UserInventory[]
}

// ユーザーの実績進捗 (元の単一ユーザー形式に戻す)
model UserProgress {
  id        Int @id @default(1) // ★ id: 1 で固定
  walkCount Int @default(0)
}

// ユーザーのアイテム所持状況 (元の単一ユーザー形式に戻す)
model UserInventory {
  id       Int  @id @default(autoincrement())
  itemId   Int  @unique // ★ itemId を unique に戻す
  quantity Int  @default(0)
  item     Item @relation(fields: [itemId], references: [id])
  // ★ userId と user リレーションを削除
}

// ★ User, Account, Session, VerificationToken モデルを削除
// --- 変更ここまで ---